["Brandeis Consulting Calculation Views Grundlagen Calculation Views vom Typ Cube ","Brandeis Consulting Cube Calculation Views – Beispiel Projektauswertung Fragestellung für eine Projektauswertung: • Wie viele Aufgaben und Aufwände liegen bei den einzelnen Mitarbeitern? • Welche IST-Aufwände sind nach Projekt angefallen? • Welche PLAN-Aufwände gibt es in den nächsten zwei Wochen? Dimensionen der Auswertung: • Bearbeiter (-> Team) • Projekt • Status • Zeit Cube Views - Kennzahlen modellieren TASKS USERS PROJECTS TIME ","Brandeis Consulting Aggregationsknoten und Semantikknoten • Semantikknoten im Cube • Spalten als Merkmal oder Kennzahl definieren • Währungsbezug definieren, etc. • Aggregationsknoten • Merkmale bilden die Aggregationsebene • Kennzahl: aggregierte Spalten • Letze Operation im Cube View => Daten werden aggregiert ausgegeben • Aggregationsebene dynamisch nach Aufriss • Aggregationsverhalten definieren • Summe • Durchschnitt • Maximum, Minimum Cube Views - Kennzahlen modellieren Semantics SOURCE AGGREGATION ","Brandeis Consulting Berechnete Spalten, Kennzahlen und Merkmale • Berechnete Spalten definieren • Syntax: SQL, Column Engine • Formeln • Zeichenverarbeitung • Datumsverarbeitung • Definition in folgenden Knoten: • Aggregation • Projektion • Join • Achtung: Reihenfolge Berechnung/Aggregation • Aggregationsknoten: Berechnung nach der Aggregation • Projektionsknoten: Berechnung auf Zeilenebene Cube Views - Kennzahlen modellieren Bsp.: Aufgaben Restaufwand = Planaufwand – Ist-Aufwand Kosten = Planaufwand * Stückkosten Anzeigename = Nachname, Vorname Fällig in Tagen: DUE_DATE – TODAY Datentyp konvertieren (Char -> INT) Kalendarische Merkmale extrahieren ","Brandeis Consulting Beispiele für SQL-Funktionen Cube Views - Kennzahlen modellieren Bereich Use-Case / SQL-Funktion Beispiel Zeichenketten Konkatenierung: CONCAT, || (Pipe- Operator) Mit Zeichen auffüllen LPAD, RPAD Teilkette: SUBSTR Datum Monat, Jahr extrahieren: EXTRACT_MONTH, EXTRACT_YEAR Tage zwischen zwei Datümern: DAYS_BETWEEN ADD_DAYS Fallunterscheidung CASE-Statement CASE WHEN \"DUE_DATE\" < '01.01.2018' AND ( \"STATUS\" NOT IN (5,6) ) THEN 1 ELSE 0 END ","Brandeis Consulting Cube Calculation Views – Berechnete Kennzahlen Cube Views - Kennzahlen modellieren • Beispiel und Übung: • Cube View auf Tabelle TASKS • Berechnete Kennzahlen • Berechnete Merkmale ","Brandeis Consulting Cube Calculation Views – Eingeschränkte Kennzahlen • Einschränken der Kennzahl auf bestimmte Merkmalsausprägungen • Einzelne Werte oder Wertebereiche • Filterung auf mehrere Merkmale möglich • SQL-Ausdrücke zur Filterung • Definition nur im obersten Knoten des Cube (Aggregation oder Star Join) Cube Views - Kennzahlen modellieren Bsp.: IST-Aufwand der Aufgaben in Bearbeitung Wenn STATUS = 3 => IST-Aufwand, sonst 0 PLAN-Aufwand der offenen Aufgaben => STATUS = 1,2 ","Brandeis Consulting Cube Calculation Views – Zähler • Zählen von Sätzen und Merkmalsausprägungen • Definition nur im obersten Knoten des Cubes • Entspricht „Count Distinct“ im SQL Cube Views - Kennzahlen modellieren Bsp.: Anzahl der Aufgaben Anzahl Bearbeiter von Aufgaben ","Brandeis Consulting Cube Calculation Views – Eingeschränkte Kennzahlen und Zähler Cube Views - Kennzahlen modellieren • Beispiel und Übung: • Cube View auf Tabelle TASKS • Zähler definieren • Eingeschränkte Kennzahl nach Status ","Brandeis Consulting Cube Calculation Views – UNION-Knoten Cube Views - Kennzahlen modellieren • Union: Vereinigung von Daten aus zwei oder mehr Datenquellen • Entspricht UNION ALL in Select-Statement • Erlaubt Mapping von Eingabe-/Ausgabespalten • Anwendungsfall: • Daten zusammenführen: IST, PLAN-Sätze • Faktentabellen mit gemeinsamen und unterschiedlichen Merkmalsdimensionen • Kombination aus Aggregation/Union (=> Composite Provider oder Multiprovider im BW): Zusammenführen von Daten unterschiedlicher Granularität • Weitere Anwendungsfälle: • Kapslung von Knoten => Refactoring von Calculation Views • Transponieren von Spalten UNION PLAN-Sätze IST-Sätze ","Brandeis Consulting Cube Calculation Views – STAR JOIN Cube Views - Kennzahlen modellieren • Cube View mit STAR JOIN • Oberster Knoten: STAR JOIN • Verknüpft eine Faktentabelle mit mehreren Dimensionstabellen • Aggregiert Kennzahlen • Einbinden Dimension Views als Dimensionstabellen • Sehr gut für multidimensionales Reporting => STAR- Schema ","Brandeis Consulting Cube Calculation Views – UNION und STAR JOIN Cube Views - Kennzahlen modellieren • Beispiel und Übung: • UNION auf TASKS UND PROJECTS • STAR JOIN mit TASKS und USERS ","Brandeis Consulting Cube Calculation Views – Key-Takeaway Cube Views - Kennzahlen modellieren • Was sind Cube Calculation Views • Modellierung von Kennzahlen • Berechnete und eingeschränkte Kennzahlen, Zähler • Union • Mehrdimensionale Modellierung ","Brandeis Consulting Fragen? Cube Views - Kennzahlen modellieren "]